Adapted from the code in https://github.com/espressif/esp-drone/tree/master/components/lib/dsp_lib
